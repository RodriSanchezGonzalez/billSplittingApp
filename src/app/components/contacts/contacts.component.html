<ng-container
  *ngIf="_userService.usuariosSugeridos && _userService.contactosDelUsuario"
>
  <div class="cabecera">
    <div class="barra">
      <img
        (click)="navegar()"
        src="assets/img/icono-atras.svg"
        alt=""
        class="icono-atras"
      />
      <h1 class="titulo">Select people</h1>
    </div>
    <input
      class="buscador-contacto"
      type="text"
      placeholder="Search by name or number"
      (keyup)="filtrarContactos()"
      [(ngModel)]="textoBusqueda"
    />
  </div>
  <div class="contenedor-sugeridos" *ngIf="!textoBusqueda">
    <p class="texto-seccion">Suggested people</p>
    <div>
      <div class="lista">
        <p *ngIf="_userService.usuariosSugeridos.length === 0">
          DonÂ´t have suggested people
        </p>
        <div
          class="contacto-sugerido"
          *ngFor="let contacto of _userService?.usuariosSugeridos"
          (click)="seleccionarContacto(contacto)"
        >
          <img
            [src]="contacto.avatarURL"
            alt=""
            class="imagen-contacto"
            [ngClass]="{
              'sugerido-seleccionado': contacto.esContactoSeleccionado
            }"
          />
        </div>
      </div>
    </div>
  </div>
  <div
    class="lista-contactos"
    *ngIf="!textoBusqueda; else listaContactosFiltrada"
  >
    <app-lista-contactos
      [listaDeContactosAMostrar]="_userService.contactosDelUsuario"
      [activarFunciones]="true"
    ></app-lista-contactos>
  </div>
  <div class="boton-contacto" (click)="envioContactosDetalleFactura()">
    <img class="icono-mas" src="assets/img/icono-mas-azul.svg" alt="" />
  </div>

  <ng-template #listaContactosFiltrada>
    <div class="lista-contactos">
      <p class="texto-seccion">Contacts filtered</p>
      <div class="contenedor-contactos">
        <div
          *ngFor="let contacto of _userService?.usuariosSugeridos"
          class="contacto"
          (click)="seleccionarContacto(contacto)"
        >
          <img [src]="contacto.avatarURL" alt="" class="imagen-contacto" />
          <div class="detalle-contacto">
            <h3 class="nombre">{{ contacto.nombre }}</h3>
            <p class="numero">{{ contacto.telefono }}</p>
          </div>
          <i
            *ngIf="contacto.esContactoSeleccionado"
            class="fas fa-user-check contacto-seleccionado"
          ></i>
        </div>
      </div>
    </div>
  </ng-template>
</ng-container>
