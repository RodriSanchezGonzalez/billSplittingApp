<div class="contenedor-billdetails" *ngIf="factura">
  <div class="contenedor-cabecera">
    <div class="navegador">
      <svg
        (click)="navegar()"
        viewBox="0 0 23 18"
        xmlns="http://www.w3.org/2000/svg"
        class="icono-atras"
      >
        <path
          d="M0.356283 8.13998L8.14008 0.356182C8.61498 -0.118727 9.38519 -0.118727 9.8601 0.356182C10.3351 0.831188 10.3351 1.6012 9.8601 2.07621L4.15253 7.78377H20.9405C21.6122 7.78377 22.1567 8.32834 22.1567 8.99999C22.1567 9.67153 21.6122 10.2162 20.9405 10.2162H4.15253L9.85991 15.9238C10.3349 16.3988 10.3349 17.1688 9.85991 17.6438C9.6225 17.8811 9.31115 18 8.99989 18C8.68864 18 8.37738 17.8811 8.13988 17.6438L0.356283 9.86C-0.118723 9.38499 -0.118723 8.61498 0.356283 8.13998Z"
        />
      </svg>

      <h1 class="titulo" routerLink="/">Bill details</h1>
    </div>
    <div class="contenedor-detalle-cuenta">
      <div class="detalle-cuenta">
        <h3 class="subtitulo">Bill amount</h3>
        <h1 class="cuenta">$ {{ factura.total | number: ".2-2" }}</h1>
      </div>
      <img src="assets/img/icono.svg" alt="" class="icono" />
    </div>
  </div>
  <div class="contenido">
    <div class="sumar-gente">
      <p class="texto-seccion">Add people</p>
      <div class="lista">
        <div class="contenedor-contactos">
          <img
            [src]="contacto.avatarURL"
            alt=""
            class="imagen-contacto"
            *ngFor="let contacto of factura?.usuariosPagadores"
            [routerLink]="['/usuario', contacto.id]"
          />
        </div>

        <div
          class="icono-mas"
          (click)="navegar('contacts')"
          *ngIf="estanCreandoFactura()"
        >
          <svg
            viewBox="0 0 17 17"
            xmlns="http://www.w3.org/2000/svg"
            class="imagen"
          >
            <path
              opacity="0.2"
              d="M16.28 7.16H9.12V0H7.16V7.16H0V9.08H7.16V16.24H9.12V9.08H16.28V7.16Z"
            />
          </svg>
        </div>
      </div>
    </div>

    <div class="suma-propina">
      <p class="texto-seccion">Add bill type</p>
      <div class="botonera-propina">
        <ng-container
          *ngFor="
            let tipoDeFactura of facturaService.obtenerTiposDeFactura$() | async
          "
        >
          <img
            [src]="tipoDeFactura.imagenURL"
            class="tipo-factura"
            [ngClass]="{
              seleccionado: tipoDeFactura.id === factura.tipoDeFacturaId
            }"
            (click)="
              estanCreandoFactura() && asignarTipoDeFactura(tipoDeFactura)
            "
          />
        </ng-container>
      </div>
    </div>
    <div class="dividir-cuenta">
      <p class="texto-seccion">Split</p>
      <div class="botonera-dividir">
        <button
          class="boton-dividir"
          [ngClass]="{
            seleccionado: estaDividaAPartesIguales(factura.tipoDeReparticion)
          }"
          (click)="
            seleccionarTipoDeReparticion(TipoDeReparticionModelo.Igualitaria)
          "
          [disabled]="!estanCreandoFactura()"
        >
          Equally
        </button>
        <button
          class="boton-dividir consumption"
          [ngClass]="{
            seleccionado:
              !estaDividaAPartesIguales(factura.tipoDeReparticion) &&
              factura.tipoDeReparticion
          }"
          (click)="
            seleccionarTipoDeReparticion(TipoDeReparticionModelo.Especifica)
          "
          [disabled]="!estanCreandoFactura()"
        >
          By consumption
        </button>
      </div>
    </div>
  </div>
  <div class="contenedor-boton" *ngIf="!factura.estaPagada">
    <button
      class="boton-procede"
      (click)="mostrarDetalleFinal()"
      *ngIf="estanCreandoFactura()"
    >
      Create bill
    </button>
  </div>
</div>
<app-modal-pagadores
  *ngIf="mostrarModalDePagadores"
  (eventoGuardarImportesDePagadores)="guardarImportesDePagadores()"
  (eventoCancelarModal)="cancelarModal()"
></app-modal-pagadores>
